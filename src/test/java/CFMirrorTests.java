import com.google.gson.Gson;
import com.google.gson.reflect.TypeToken;
import io.github.litwak913.Mods;
import org.junit.Assert;
import org.junit.Test;

import java.util.List;

public class CFMirrorTests {


    String modInfoData = "[{\"id\":32274,\"name\":\"JourneyMap\",\"authors\":[{\"name\":\"techbrew\",\"url\":\"https://www.curseforge.com/members/7577665-techbrew?username=techbrew\",\"projectId\":32274,\"id\":9317,\"projectTitleId\":null,\"projectTitleTitle\":null,\"userId\":7577665,\"twitchId\":55544864},{\"name\":\"Mysticdrew\",\"url\":\"https://www.curseforge.com/members/9422784-mysticdrew?username=mysticdrew\",\"projectId\":32274,\"id\":218528,\"projectTitleId\":2,\"projectTitleTitle\":\"Author\",\"userId\":9422784,\"twitchId\":26913375}],\"attachments\":[{\"id\":9144,\"projectId\":32274,\"description\":\"\",\"isDefault\":true,\"thumbnailUrl\":\"https://media.forgecdn.net/avatars/thumbnails/9/144/256/256/635421614078544069.png\",\"title\":\"635421614078544069.png\",\"url\":\"https://media.forgecdn.net/avatars/9/144/635421614078544069.png\",\"status\":1},{\"id\":4815,\"projectId\":32274,\"description\":\"\",\"isDefault\":false,\"thumbnailUrl\":\"https://media.forgecdn.net/avatars/thumbnails/4/815/256/256/635351427691206616.png\",\"title\":\"635351427691206616.png\",\"url\":\"https://media.forgecdn.net/avatars/4/815/635351427691206616.png\",\"status\":1},{\"id\":9143,\"projectId\":32274,\"description\":\"\",\"isDefault\":false,\"thumbnailUrl\":\"https://media.forgecdn.net/avatars/thumbnails/9/143/256/256/635421613246663885.png\",\"title\":\"635421613246663885.png\",\"url\":\"https://media.forgecdn.net/avatars/9/143/635421613246663885.png\",\"status\":1},{\"id\":9141,\"projectId\":32274,\"description\":\"\",\"isDefault\":false,\"thumbnailUrl\":\"https://media.forgecdn.net/avatars/thumbnails/9/141/256/256/635421611956558492.png\",\"title\":\"635421611956558492.png\",\"url\":\"https://media.forgecdn.net/avatars/9/141/635421611956558492.png\",\"status\":1}],\"websiteUrl\":\"https://www.curseforge.com/minecraft/mc-mods/journeymap\",\"gameId\":432,\"summary\":\"Real-time mapping in-game or your browser as you explore.\",\"defaultFileId\":2916002,\"downloadCount\":75900791.0,\"latestFiles\":[{\"id\":2916002,\"displayName\":\"journeymap-1.12.2-5.7.1\",\"fileName\":\"journeymap-1.12.2-5.7.1.jar\",\"fileDate\":\"2020-03-29T21:09:22.773Z\",\"fileLength\":6990968,\"releaseType\":1,\"fileStatus\":4,\"downloadUrl\":\"https://edge.forgecdn.net/files/2916/2/journeymap-1.12.2-5.7.1.jar\",\"isAlternate\":false,\"alternateFileId\":0,\"dependencies\":[{\"id\":38911477,\"addonId\":226005,\"type\":4,\"fileId\":2916002}],\"isAvailable\":true,\"modules\":[{\"foldername\":\"META-INF\",\"fingerprint\":1736787495,\"type\":3},{\"foldername\":\"journeymap\",\"fingerprint\":2876717480,\"type\":3},{\"foldername\":\"modinfo\",\"fingerprint\":3257172988,\"type\":3},{\"foldername\":\"net\",\"fingerprint\":1429981559,\"type\":3},{\"foldername\":\"assets\",\"fingerprint\":1383692062,\"type\":3},{\"foldername\":\"license.txt\",\"fingerprint\":3989053437,\"type\":3},{\"foldername\":\"mcmod.info\",\"fingerprint\":3632965706,\"type\":3},{\"foldername\":\"dummyThing\",\"fingerprint\":79582461,\"type\":3},{\"foldername\":\"info\",\"fingerprint\":2511953692,\"type\":3},{\"foldername\":\"LICENSE.txt\",\"fingerprint\":1185419476,\"type\":3},{\"foldername\":\"NOTICE.txt\",\"fingerprint\":3411389661,\"type\":3},{\"foldername\":\"about.html\",\"fingerprint\":1421502970,\"type\":3},{\"foldername\":\"org\",\"fingerprint\":2373182980,\"type\":3},{\"foldername\":\"jetty-dir.css\",\"fingerprint\":4183154058,\"type\":3}],\"packageFingerprint\":1076064603,\"gameVersion\":[\"1.12.2\"],\"sortableGameVersion\":[{\"gameVersionPadded\":\"0000000001.0000000012.0000000002\",\"gameVersion\":\"1.12.2\",\"gameVersionReleaseDate\":\"2017-09-18T05:00:00Z\",\"gameVersionName\":\"1.12.2\"}],\"installMetadata\":null,\"changelog\":null,\"hasInstallScript\":false,\"isCompatibleWithClient\":false,\"categorySectionPackageType\":6,\"restrictProjectFileAccess\":1,\"projectStatus\":4,\"renderCacheId\":1810583,\"fileLegacyMappingId\":null,\"projectId\":32274,\"parentProjectFileId\":null,\"parentFileLegacyMappingId\":null,\"fileTypeId\":null,\"exposeAsAlternative\":null,\"packageFingerprintId\":431527063,\"gameVersionDateReleased\":\"2008-03-01T06:00:00Z\",\"gameVersionMappingId\":2153885,\"gameVersionId\":4458,\"gameId\":432,\"isServerPack\":false,\"serverPackFileId\":null,\"gameVersionFlavor\":null},{\"id\":2981598,\"displayName\":\"journeymap-1.14.4-5.7.0b3\",\"fileName\":\"journeymap-1.14.4-5.7.0b3.jar\",\"fileDate\":\"2020-06-16T16:35:05.783Z\",\"fileLength\":6795411,\"releaseType\":2,\"fileStatus\":4,\"downloadUrl\":\"https://edge.forgecdn.net/files/2981/598/journeymap-1.14.4-5.7.0b3.jar\",\"isAlternate\":false,\"alternateFileId\":0,\"dependencies\":[{\"id\":43662332,\"addonId\":226005,\"type\":4,\"fileId\":2981598}],\"isAvailable\":true,\"modules\":[{\"foldername\":\"META-INF\",\"fingerprint\":3169647374,\"type\":3},{\"foldername\":\"journeymap\",\"fingerprint\":76564001,\"type\":3},{\"foldername\":\"modinfo\",\"fingerprint\":4139118007,\"type\":3},{\"foldername\":\"net\",\"fingerprint\":3929542358,\"type\":3},{\"foldername\":\"assets\",\"fingerprint\":455722167,\"type\":3},{\"foldername\":\"journeymap.png\",\"fingerprint\":3357985534,\"type\":3},{\"foldername\":\"license.txt\",\"fingerprint\":4111769899,\"type\":3},{\"foldername\":\"pack.mcmeta\",\"fingerprint\":2930129283,\"type\":3},{\"foldername\":\"render-event-transformer.js\",\"fingerprint\":2784044465,\"type\":3},{\"foldername\":\"info\",\"fingerprint\":1640364356,\"type\":3},{\"foldername\":\"NOTICE.txt\",\"fingerprint\":3411389661,\"type\":3},{\"foldername\":\"about.html\",\"fingerprint\":1421502970,\"type\":3},{\"foldername\":\"org\",\"fingerprint\":870500181,\"type\":3},{\"foldername\":\"jetty-dir.css\",\"fingerprint\":4183154058,\"type\":3}],\"packageFingerprint\":3742153920,\"gameVersion\":[\"1.14.4\",\"Forge\"],\"sortableGameVersion\":[{\"gameVersionPadded\":\"0000000001.0000000014.0000000004\",\"gameVersion\":\"1.14.4\",\"gameVersionReleaseDate\":\"2019-07-19T00:00:00Z\",\"gameVersionName\":\"1.14.4\"},{\"gameVersionPadded\":\"0\",\"gameVersion\":\"\",\"gameVersionReleaseDate\":\"2019-08-01T00:00:00Z\",\"gameVersionName\":\"Forge\"}],\"installMetadata\":null,\"changelog\":null,\"hasInstallScript\":false,\"isCompatibleWithClient\":false,\"categorySectionPackageType\":6,\"restrictProjectFileAccess\":1,\"projectStatus\":4,\"renderCacheId\":1894406,\"fileLegacyMappingId\":null,\"projectId\":32274,\"parentProjectFileId\":null,\"parentFileLegacyMappingId\":null,\"fileTypeId\":null,\"exposeAsAlternative\":null,\"packageFingerprintId\":473820071,\"gameVersionDateReleased\":\"2008-03-01T06:00:00Z\",\"gameVersionMappingId\":2272704,\"gameVersionId\":4458,\"gameId\":432,\"isServerPack\":false,\"serverPackFileId\":null,\"gameVersionFlavor\":null}],\"categories\":[{\"categoryId\":423,\"name\":\"Map and Information\",\"url\":\"https://www.curseforge.com/minecraft/mc-mods/map-information\",\"avatarUrl\":\"https://media.forgecdn.net/avatars/6/38/635351497437388438.png\",\"parentId\":6,\"rootId\":6,\"projectId\":32274,\"avatarId\":6038,\"gameId\":432}],\"status\":4,\"primaryCategoryId\":423,\"categorySection\":{\"id\":8,\"gameId\":432,\"name\":\"Mods\",\"packageType\":6,\"path\":\"mods\",\"initialInclusionPattern\":\".\",\"extraIncludePattern\":null,\"gameCategoryId\":6},\"slug\":\"journeymap\",\"gameVersionLatestFiles\":[{\"gameVersion\":\"1.14.4\",\"projectFileId\":2981598,\"projectFileName\":\"journeymap-1.14.4-5.7.0b3.jar\",\"fileType\":2,\"gameVersionFlavor\":null},{\"gameVersion\":\"1.15.2\",\"projectFileId\":2981594,\"projectFileName\":\"journeymap-1.15.2-5.7.0b3.jar\",\"fileType\":2,\"gameVersionFlavor\":null},{\"gameVersion\":\"1.12.2\",\"projectFileId\":2916002,\"projectFileName\":\"journeymap-1.12.2-5.7.1.jar\",\"fileType\":1,\"gameVersionFlavor\":null},{\"gameVersion\":\"1.12.1\",\"projectFileId\":2498307,\"projectFileName\":\"journeymap-1.12.1-5.5.2.jar\",\"fileType\":1,\"gameVersionFlavor\":null},{\"gameVersion\":\"1.12\",\"projectFileId\":2498305,\"projectFileName\":\"journeymap-1.12-5.5.2.jar\",\"fileType\":1,\"gameVersionFlavor\":null},{\"gameVersion\":\"1.11.2\",\"projectFileId\":2498301,\"projectFileName\":\"journeymap-1.11.2-5.5.2.jar\",\"fileType\":1,\"gameVersionFlavor\":null},{\"gameVersion\":\"1.10.2\",\"projectFileId\":2498297,\"projectFileName\":\"journeymap-1.10.2-5.5.2.jar\",\"fileType\":1,\"gameVersionFlavor\":null},{\"gameVersion\":\"1.9.4\",\"projectFileId\":2498294,\"projectFileName\":\"journeymap-1.9.4-5.5.2.jar\",\"fileType\":1,\"gameVersionFlavor\":null},{\"gameVersion\":\"1.9\",\"projectFileId\":2498292,\"projectFileName\":\"journeymap-1.9-5.5.2.jar\",\"fileType\":1,\"gameVersionFlavor\":null},{\"gameVersion\":\"1.11\",\"projectFileId\":2383113,\"projectFileName\":\"journeymap-1.11-5.4.6.jar\",\"fileType\":1,\"gameVersionFlavor\":null},{\"gameVersion\":\"1.7.10\",\"projectFileId\":2367915,\"projectFileName\":\"journeymap-1.7.10-5.1.4p2-unlimited.jar\",\"fileType\":1,\"gameVersionFlavor\":null},{\"gameVersion\":\"1.8.9\",\"projectFileId\":2311867,\"projectFileName\":\"journeymap-1.8.9-5.2.4-unlimited.jar\",\"fileType\":1,\"gameVersionFlavor\":null},{\"gameVersion\":\"1.8.8\",\"projectFileId\":2269324,\"projectFileName\":\"journeymap-1.8.8-5.1.3-unlimited.jar\",\"fileType\":1,\"gameVersionFlavor\":null},{\"gameVersion\":\"1.8\",\"projectFileId\":2269316,\"projectFileName\":\"journeymap-1.8-5.1.3-unlimited.jar\",\"fileType\":1,\"gameVersionFlavor\":null},{\"gameVersion\":\"1.7.2\",\"projectFileId\":2209904,\"projectFileName\":\"JourneyMap4.0.3_Unlimited_MC1.7.2.jar\",\"fileType\":1,\"gameVersionFlavor\":null},{\"gameVersion\":\"1.6.4\",\"projectFileId\":2209902,\"projectFileName\":\"JourneyMap4.0.3_Unlimited_MC1.6.4.jar\",\"fileType\":1,\"gameVersionFlavor\":null},{\"gameVersion\":\"1.5.2\",\"projectFileId\":717862,\"projectFileName\":\"JourneyMap2.6.1_MC1.5.2.zip\",\"fileType\":1,\"gameVersionFlavor\":null},{\"gameVersion\":\"1.4.7\",\"projectFileId\":683238,\"projectFileName\":\"JourneyMap1.9.1_MC1.4.6.zip\",\"fileType\":1,\"gameVersionFlavor\":null},{\"gameVersion\":\"1.1\",\"projectFileId\":568433,\"projectFileName\":\"JourneyMap1.0.1_MC1.1.zip\",\"fileType\":1,\"gameVersionFlavor\":null},{\"gameVersion\":\"1.0.0\",\"projectFileId\":554368,\"projectFileName\":\"JourneyMap1.0.0_MC1.0.0.zip\",\"fileType\":1,\"gameVersionFlavor\":null}],\"isFeatured\":false,\"popularityScore\":74502.3515625,\"gamePopularityRank\":2,\"primaryLanguage\":\"enUS\",\"gameSlug\":\"minecraft\",\"gameName\":\"Minecraft\",\"portalName\":\"www.curseforge.com\",\"dateModified\":\"2020-06-16T16:37:09.647Z\",\"dateCreated\":\"2011-09-19T23:49:04.217Z\",\"dateReleased\":\"2020-06-16T16:35:12.99Z\",\"isAvailable\":true,\"isExperiemental\":false}]";

    @Test
    public void testEncodeModInfoJson() {
        List<Mods> list = new Gson().fromJson(modInfoData, new TypeToken<List<Mods>>() {
        }.getType());
        for (Mods v : list) {
            Assert.assertTrue(v.getName().equals("JourneyMap") && v.getSlug().equals("journeymap"));
        }
    }
}
